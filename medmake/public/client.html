<html>
<head>
<title>
</title>
 <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <style>
    label{
        font-size: 20px;
        button{
    margin-left: 35%;
    margin-top: 10%;
}
    }


</style>     
</head>
<body>



    <div class="row">
        <div class="col offset-s1 s10 offset-l3 l6">
            <div class="container" style="margin-top: 5%">
    <div class="card">
         <ul class="collapsible">
    <li>
      <p id = 'foo'></p>
    </li>
    </ul>
        <div class="card-content">
        <form>    
        <button class="btn waves-effect waves-light" type="submit" name="action" style="margin-left: 35%;margin-top: 10%">Submit</button>
    </form>
        </div>
        </div>
    </div>
            </div>
    </div>
    <!--</div>
                </div>-->

<script
  src="http://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script>

var id;
var ws = new WebSocket("ws://192.168.43.17:9060");
ws.onopen = (connected)=>{
    console.log('sachin connected');
    json_object={
        "name":"sachin singh",
        "contact":"8851911233"
    };
    ws.send(JSON.stringify(json_object));
}

ws.onmessage = (message)=>{
    console.log(JSON.parse(message.data));
    let messa = JSON.parse(message.data);
    String reqURL = `http://maps.googleapis.com/maps/api/geocode/json?latlng="${messages.p_latitude}","${messages.p_longitude}"&sensor=true`;
    console.log(reqURL);
    //let help = `Need immediate help! Name : ${messages.p_name}, phone number: ${messages.p_contact}, address: ${messages.p_address} with location : ${reqURL}`;
    //document.getElementById('foo').src = help;
}
</script>
</body>
</html>